# Add a Database

## Configure
You can add a database to your app by simply adding a data component to your `boxfile.yml`:

<div class="meta" data-class="snippet" data-optional-components="mysql,postgres" ></div>

In the above snippet `db` is the unique identifier of this component. It can be anything you choose as long as it is unique.

Nanobox generates the following environment variables based off that name:

* `DATA_DB_HOST` : autogenerated unique host ip
* `DATA_DB_USER` : user to connect with
* `DATA_DB_PASS` : unique password

For databases that require a name, the name will always be `gonano`.

To specify the port used to connect to the database, set the enviroment variable ``DATA_DB_PORT``.

**HEADS UP**: Your database will be provisioned the next time you `nanobox run`.

## Connect

#### Include the DB Driver Extension
Add the required extension to the list of extensions in your `boxfile.yml`.

```yaml
run.config:
  engine.config:
    extensions:
      - pdo_mysql
```

#### Modify Your database.php
Modify your `config/database.php` to connect your app:

**Port:** The port will always be the default port of the service you're using.  
**Name:** The database name will always be `gonano`.

```php
'connections' => [
  'mysql' => [
      'driver' => 'mysql',
      'host' => env('DATA_DB_HOST', env('DB_HOST', '127.0.0.1')),
      'port' => env('DATA_DB_PORT', env('DB_PORT', '3306')),
      'database' =>  env('DATA_DB_HOST', false) ? 'gonano' : env('DB_DATABASE', 'forge'),
      'username' =>  env('DATA_DB_USER', env('DB_USERNAME', 'forge')),
      'password' =>  env('DATA_DB_PASS', env('DB_PASSWORD', '')),
      'charset' => 'utf8mb4',
      'collation' => 'utf8mb4_unicode_ci',
      'prefix' => '',
      'strict' => true,
      'engine' => null,
  ]
],
```

**HEADS UP**: Any database created by nanobox will *always* be named `gonano`

## Test

#### From an external client
You can connect directly to your database from an <a href="https://docs.nanobox.io/data-management/managing-local-data/" target="\_blank">external client</a>.

#### From Laravel
You can also test your connection by simply trying to run your app and see if it is able to connect.

```bash
nanobox run php artisan migrate
```

## Now what?
Whats next? Think about what else your app might need and hopefully the topics below will help you get started with the next steps of your development!

* [Frontend Javascript](/php/laravel/frontend-javascript)
* [Local Environment Variables](/php/laravel/local-evars)
* [Back to Laravel overview](/php/laravel)
