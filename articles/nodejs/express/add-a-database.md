# Add a Database

## Configure
You can add a database to your app by simply adding a data component to your `boxfile.yml`:

<div class="meta" data-class="snippet" data-optional-components="postgres,mysql,mongo" ></div>

In the above snippet `db` is the `NAME` of this component, and can be anything you choose as long as it is unique.

Nanobox generates the following environment variables based off that name:

* `DATA_DB_HOST` : autogenerated unique host ip
* `DATA_DB_USER` : user to connect with
* `DATA_DB_PASS` : unique password

**HEADS UP**: Your database will be running the next time you `nanobox run`.

## Connect
Before connecting to the database, you'll first need to install the `pg-promise` adapter:

```bash
# drop into a nanobox console
nanobox run

# install npm package
npm install pg-promise --save

# exit the console
exit
```

Then create a `database.js` with the following:

```javascript
var pgp = require("pg-promise")(/*options*/);
var db = pgp("postgres://${process.env.DATA_DB_USER}:${process.env.DATA_DB_PASS}@${process.env.DATA_DB_HOST}:${}/db");
```

## Test

#### From an external client
You can connect directly to your database from an <a href="https://docs.nanobox.io/local-dev/managing-local-data/" target="\_blank">external client</a>.

#### With Express
Your can also test the connection with express:

```bash
nanobox run npm start
```

## Now what?
Whats next? Think about what else your app might need and hopefully the topics below will help you get started with the next steps of your development!

* [Frontend Javascript](/nodejs/express/frontend-javascript)
* [Local Environment Variables](/nodejs/express/local-evars)
* [Back to Express overview](/nodejs/express)
