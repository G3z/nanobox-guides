<!DOCTYPE html><html lang=en><head><title>Nanobox</title><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel=stylesheet href=/style.css><link href="//fonts.googleapis.com/css?family=Lato:400,400italic" rel=stylesheet type=text/css><link rel=icon type=image/png href=/assets/favicon.png></head><body><div class=main-wrapper><div style=height:49px; class=top-nav-wrapper><div class=top-nav><a href="/" class=logo><div class=img></div><div class=company>Nanobox</div></a><div class=index-items><div id=local-link data-target=#local class="jumper active">Local</div><div id=deploy-link data-target=#deploy class=jumper>Deploy</div><div id=live-link data-target=#live class=jumper>Live</div></div><div class=menu><div class=nav><a href=http://dashboard.nanobox.io>Sign Up</a></div></div><div class=hamburg-icon><img data-src=hamburg-menu class=shadow-icon></div></div></div><div class=content-area><div class=article-page><div id=left-nav class=left><div class=article-nav><div class=title></div><div class=articles></div></div></div><div class=main><div class=markdown><h1 id=mysql-config-options>MySQL Config Options</h1><p>MySQL components are configured in your <code>boxfile.yml</code>. All available configuration options are outlined below.</p><h3 id=important-notes-about-configuration-changes>Important Notes About Configuration Changes</h3><p>Whenever configuration changes are made to your MySQL boxfile.yml config, in order to apply those changes, Nanobox must provision a new MySQL node.</p><h4 id=changes-in-dev-sim>Changes in Dev &amp; Sim</h4><p>When working in dev and sim, this will replace the existing node, wiping all data in the database. Data will need to be re-seeded.</p><h4 id=changes-to-a-production-database>Changes to a Production Database</h4><p>When config changes are made to a production database, a new node is provisioned and data is migrated. There will be slight downtime as data is synced between the old and new node(s), but the process is designed to minimize this as much as possible. More information is available in the <a href="https://docs.nanobox.io/data-management/data-migrations-scaling/">Data Migrations During Scaling &amp; Repairs</a> doc.</p><h2 id=config-options>Config Options</h2><pre><code class=lang-yaml>data.mysql:
  image: nanobox/mysql
  config:
    version: 5.5
    plugins:
      - federated
      - audit_log
    event_scheduler: &#39;Off&#39;
    max_connections: 1024
    thread_stack: &#39;256K&#39;
    myisam_recover: &#39;DEFAULT&#39;
    max_allowed_packet:  &#39;16M&#39;
    max_join_size: 9223372036854775807
    table_open_cache: 64
    query_cache_limit: &#39;1M&#39;
    allow_suspicious_udfs: &#39;Off&#39;
    ansi: &#39;Off&#39;
    audit_log: &#39;On&#39;
    ft_max_word_len: 84
    ft_min_word_len: 4
    ft_query_expansion_limit: 20
    ft_stopword_file: &#39; &#39;
</code></pre><h3 id=version>version</h3><p>When configuring MySQL in your Boxfile, you can define which of the following versions you&#39;d like to use.</p><ul><li>5.5</li><li>5.6</li></ul><p><strong>Note:</strong> Due to version compatibility constraints, MySQL versions cannot be changed after the service is created. To use a different version, you&#39;ll have to create a new MySQL service and manually migrate data.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    version: 5.6
</code></pre><h3 id=plugins>plugins</h3><p>This allows you to specify what MySQL plugins to load into your database service. The following plugins are available:</p><ul><li>archive</li><li>blackhole</li><li>federated</li><li>audit_log</li></ul><pre><code class=lang-yaml>data.mysql:
  image: nanobox/mysql
  config:
    plugins:
      - federated
</code></pre><p><strong>Note:</strong> When using the <code>audit_log</code> plugin, you must also specify a <a href=#audit-log><code>audit_log</code></a> setting in your Boxfile.</p><h3 id=event-_scheduler>event_scheduler</h3><p>This enables or disables <a href=http://dev.mysql.com/doc/refman/5.6/en/events-overview.html>MySQL&#39;s event scheduler</a>.</p><p><strong>Note:</strong> Even though <code>event_scheduler</code>&#39;s default is &quot;Off&quot;, it can still be enabled through a SQL query in your database. Setting it to &quot;On&quot; just enables the event scheduler when the database is provisioned.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    event_scheduler: &#39;Off&#39;
</code></pre><h3 id=max-_connections>max_connections</h3><p>View <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_max_connections>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    max_connections: 1024
</code></pre><h3 id=thread-_stack>thread_stack</h3><p>View <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_thread_stack>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    thread_stack: &#39;256K&#39;
</code></pre><h3 id=myisam-_recover>myisam_recover</h3><p>View <a href=http://dev.mysql.com/doc/refman/5.5/en/server-options.html#option_mysqld_myisam-recover-options>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    myisam_recover: &#39;DEFAULT&#39;
</code></pre><h3 id=myisam-_recover>myisam_recover</h3><p>View <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_max_allowed_packet>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    max_allowed_packet:  &#39;16M&#39;
</code></pre><h3 id=max-_join-_size>max_join_size</h3><p>View <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_max_join_size>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    max_join_size: 9223372036854775807
</code></pre><h3 id=table-_open-_cache>table_open_cache</h3><p>View <a href=http://dev.mysql.com/doc/refman/5.1/en/server-system-variables.html#sysvar_table_open_cache>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    table_open_cache: 64
</code></pre><h3 id=query-_cache-_limit>query_cache_limit</h3><p>View <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_query_cache_limit>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    query_cache_limit: &#39;1M&#39;
</code></pre><h3 id=allow-_suspicious-_udfs>allow_suspicious_udfs</h3><p>View the <a href=http://dev.mysql.com/doc/refman/5.6/en/server-options.html#option_mysqld_allow-suspicious-udfs>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    allow_suspicious_udfs: &#39;Off&#39;
</code></pre><h3 id=ansi>ansi</h3><p>View the <a href=http://dev.mysql.com/doc/refman/5.6/en/server-options.html#option_mysqld_ansi>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml># default setting
data.mysql:
  image: nanobox/mysql
  config:
    ansi: &#39;Off&#39;
</code></pre><h3 id=audit-_log>audit_log</h3><p>View the <a href=http://dev.mysql.com/doc/refman/5.5/en/audit-log-plugin-installation.html>dev.mysql.com documentation</a> for definition and configuration details. Below are the following options:</p><ul><li>on</li><li>off</li><li>force</li><li>force_plus_permanent</li></ul><p><strong>Note:</strong> In order to specify a <code>audit_log</code> setting, you must also include the <a href=#plugins><code>audit_log</code> mysql plugin</a> in your Boxfile.</p><pre><code class=lang-yaml>data.mysql:
  image: nanobox/mysql
  config:
    audit_log: &#39;On&#39;
    plugins:
      - audit_log
</code></pre><h3 id=ft-_max-_word-_len>ft_max_word_len</h3><p>View the <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_ft_max_word_len>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml>data.mysql:
  image: nanobox/mysql
  config:
    ft_max_word_len: 84
</code></pre><h3 id=ft-_min-_word-_len>ft_min_word_len</h3><p>View the <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_ft_min_word_len>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml>data.mysql:
  image: nanobox/mysql
  config:
    ft_min_word_len: 4
</code></pre><h3 id=ft-_query-_expansion-_limit>ft_query_expansion_limit</h3><p>View the <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_ft_query_expansion_limit>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml>data.mysql:
  image: nanobox/mysql
  config:
    ft_query_expansion_limit: 20
</code></pre><h3 id=ft-_stopword-_file>ft_stopword_file</h3><p>View the <a href=http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_ft_stopword_file>dev.mysql.com documentation</a> for definition and configuration options.</p><pre><code class=lang-yaml>data.mysql:
  image: nanobox/mysql
  config:
    ft_stopword_file: &#39; &#39;
</code></pre><h3 id=request-mysql-boxfile-yml-configs>Request MySQL boxfile.yml Configs</h3><p>If there&#39;s a setting you&#39;d like to modify that is typically handled in the <code>my.cnf</code>, please let us know by creating a <a href=https://github.com/nanobox-io/nanobox-docker-mysql/issues/new>new issue on the MySQL image project on Github</a>.</p></div></div></div></div></div><script src=/js/libs.js></script><script src=/js/main.js></script><script src=https://use.typekit.net/cqd5kth.js></script><script>try{Typekit.load({ async: true });}catch(e){}</script><script>article = new Article("MySQL Config Options", "mysql", "mysql")

</script><script type=text/javascript>$mainwrapper = $(".main-wrapper");
castShadows( $('.main-wrapper') );
topNav = new nanobox.TopNav( $(".top-nav") );
</script><script type=text/javascript>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-78086337-1', 'auto');
ga('send', 'pageview');

  </script></body></html>