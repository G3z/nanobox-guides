<!DOCTYPE html><html lang=en><head><title>Nanobox</title><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel=stylesheet href=/style.css><link href="//fonts.googleapis.com/css?family=Lato:400,400italic" rel=stylesheet type=text/css><link rel=icon type=image/png href=/assets/favicon.png></head><body><div class=main-wrapper><div style=height:49px; class=top-nav-wrapper><div class=top-nav><a href="/" class=logo><div class=img></div><div class=company>Nanobox</div></a><div class=index-items><div id=local-link data-target=#local class="jumper active">Local</div><div id=deploy-link data-target=#deploy class=jumper>Deploy</div><div id=live-link data-target=#live class=jumper>Live</div></div><div class=menu><div class=nav><a href=http://dashboard.nanobox.io>Sign Up</a></div></div><div class=hamburg-icon><img data-src=hamburg-menu class=shadow-icon></div></div></div><div class=content-area><div class=article-page><div id=left-nav class=left><div class=article-nav><div class=title></div><div class=articles></div></div></div><div class=main><div class=markdown><h1 id=rails-getting-started>Rails: Getting Started</h1><p>This guide will walk you through getting a simple Rails application (app) up and running with nanobox. This guide was used to create the <a href=https://github.com/nanobox-quickstarts/nanobox-rails target=\_blank>nanobox-rails</a> app found under <a href=https://github.com/nanobox-quickstarts target=\_blank>nanobox-quickstarts</a> on github.</p><p>This guide is broken down into three sections:</p><ol><li><a href=#project-setup>Project Setup</a></li><li><a href=#app-config>App Config</a></li><li><a href=#up-and-running>Up and Running</a></li></ol><h2 id=project-setup>Project Setup</h2><p>If you already have a project you&#39;d like to use with nanobox simply <a href=#add-a-boxfile-yml>add a boxfile.yml</a> and continue with this guide, otherwise you&#39;ll need to follow the next steps to setup a new project.</p><h4 id=create-a-project>Create a project</h4><p>Decide where you want your project to live and create a folder there.</p><pre><code class=lang-bash># create your project
mkdir nanobox-rails
</code></pre><h4 id=add-a-boxfile-yml>Add a boxfile.yml</h4><p>Create a <code>boxfile.yml</code> at the root of your project that contains the following:</p><pre><code class=lang-yaml># because we&#39;re using rails we need to tell nanobox that we need ruby in our
# container
code.build:
  engine: &quot;ruby&quot;
</code></pre><h2 id=app-config>App Config</h2><p>If you already have an app you&#39;d like to run with nanobox you&#39;ll simply need to <a href=#make-it-accessible>make it accessible to the host</a>, otherwise follow the steps below to create an app.</p><h4 id=create-an-app>Create an App</h4><p>Part of what makes nanobox so useful is you don&#39;t have to have rails installed on your local machine to utilize it. We&#39;re going to create a development (dev) environment in which you will generate your rails app.</p><p>First we need to get a dev environment running:</p><pre><code class=lang-bash># build a ruby runtime
nanobox build

# deploy the ruby runtime into the dev environment
nanobox dev deploy

# console into the dev environment
nanobox dev console

# install rails so we can use it to generate our app
gem install rails

# generate our new rails app
rails new .
</code></pre><h4 id=make-it-accessible>Make it Accessible</h4><p>Most frameworks by default will bind to localhost, however we need to allow connections from the host into your container. To do this we need to tell rails to bind to all available IP&#39;s</p><p>In your apps <code>config/boot.rb</code> add the following:</p><pre><code class=lang-ruby>require &#39;rails/commands/server&#39;
module Rails
  class Server
    alias :_default_options :default_options
    def default_options
      _default_options.merge!(Host:&#39;0.0.0.0&#39;, Port:8080)
    end
  end
end
</code></pre><h2 id=up-and-running>Up and Running</h2><p>With the app configured the last thing to do is run it with nanobox. From the project directory run the following commands:</p><pre><code class=lang-bash># build a ruby runtime
nanobox build

# deploy the ruby runtime into the dev environment
nanobox dev deploy

# add a convenient way to access your app from a browser
nanobox dev dns add rails.nanobox.dev

# console into the dev environment
nanobox dev console

# run the app
bundle exec rails s
</code></pre><p>Visit the app from your favorite browser at: <code>rails.nanobox.dev:8080</code></p><h2 id=now-what->Now what?</h2><p>With an app running in a dev environment with nanobox, whats next? Think about what else your app might need and hopefully the topics below will help you get started with the next steps of your development!</p><ul><li><a href=connect-a-database.html>Connect a database</a></li><li><a href=prepare-for-production.html>Prepare for production</a></li><li><a href=launch-your-app.html>Launch your app</a></li><li><a href=overview.html>Back to rails overview</a></li></ul></div></div></div></div></div><script src=/js/libs.js></script><script src=/js/main.js></script><script src=https://use.typekit.net/cqd5kth.js></script><script>try{Typekit.load({ async: true });}catch(e){}</script><script>article = new Article("Getting Started", "ruby/rails", "ruby,rails")

</script><script type=text/javascript>$mainwrapper = $(".main-wrapper");
castShadows( $('.main-wrapper') );
topNav = new nanobox.TopNav( $(".top-nav") );
</script><script type=text/javascript>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-78086337-1', 'auto');
ga('send', 'pageview');

  </script></body></html>