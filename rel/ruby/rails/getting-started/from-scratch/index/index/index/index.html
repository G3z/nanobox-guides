<!DOCTYPE html><html lang=en><head><title>Nanobox</title><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><link rel=stylesheet href=/style.css><link href="//fonts.googleapis.com/css?family=Lato:400,400italic" rel=stylesheet type=text/css><link rel=icon type=image/png href=/assets/favicon.png></head><body><div class=main-wrapper><div style=height:49px; class=top-nav-wrapper><div class=top-nav><a href="/" class=logo><div class=img></div><div class=company>Nanobox</div></a><div class=index-items><div id=local-link data-target=#local class="jumper active">Local</div><div id=deploy-link data-target=#deploy class=jumper>Deploy</div><div id=live-link data-target=#live class=jumper>Live</div></div><div class=menu><div class=nav><a href=http://dashboard.nanobox.io>Sign Up</a></div></div><div class=hamburg-icon><img data-src=hamburg-menu class=shadow-icon></div></div></div><div class=content-area><div class=article-page><div id=left-nav class=left><div class=article-nav><div class=title></div><div class=articles></div></div></div><div class=main><div class=markdown><h1 id=rails-from-scratch>Rails from Scratch</h1><p>Part of what makes nanobox so useful is you don&#39;t have to have ruby or rails installed on your local machine.</p><p>This guide outlines the process used to create the <a href=https://github.com/nanobox-quickstarts/nanobox-rails target=\_blank>nanobox-rails</a> quickstart app found under <a href=https://github.com/nanobox-quickstarts target=\_blank>nanobox-quickstarts</a> on github.</p><h2 id=build-a-ruby-dev-environment>Build a Ruby Dev Environment</h2><p>Nanobox will create an isolated virtual environment and mount your local codebase inside of. From within this environment you can run the app, a rails console, or even rake tasks as you would normally.</p><p>Decide where you want your project to live and create a folder there:</p><pre><code class=lang-bash># create a project folder
mkdir nanobox-rails
</code></pre><h4 id=add-a-boxfile-yml>Add a boxfile.yml</h4><p>The boxfile.yml tells nanobox how to build and configure these environments. Create a <code>boxfile.yml</code> at the root of your project that contains the following:</p><pre><code class=lang-yaml># tell nanobox to build a ruby runtime
code.build:
  engine: ruby
</code></pre><h4 id=build-the-environment>Build the Environment</h4><pre><code class=lang-bash># build a ruby runtime
nanobox build

# deploy the ruby runtime into the dev environment
nanobox dev deploy

# add a convenient way to access your app from a browser
nanobox dev dns add rails.nanobox.dev
</code></pre><h2 id=create-a-rails-app>Create a Rails App</h2><pre><code class=lang-bash># console into the dev environment
nanobox dev console

# install rails so we can use it to generate our app
gem install rails

# generate our new rails app
rails new .
</code></pre><h4 id=make-app-accessible>Make App Accessible</h4><p>We need to allow connections from the host into the app&#39;s container. To do this we need modify the <code>config/boot.rb</code> telling rails to listen on all available IP&#39;s at port 8080:</p><pre><code class=lang-ruby>require &#39;rails/commands/server&#39;
module Rails
  class Server
    alias :_default_options :default_options
    def default_options
      _default_options.merge!(Host:&#39;0.0.0.0&#39;, Port:8080)
    end
  end
end
</code></pre><h2 id=rails-up-and-running>Rails up-and-running</h2><p>With the app configured the last thing to do is run it:</p><pre><code class=lang-bash># run the app from the nanobox dev console
rails s
</code></pre><p>Visit the app from your favorite browser at: <code>rails.nanobox.dev:8080</code></p><h2 id=now-what->Now what?</h2><p>With an app running in a dev environment with nanobox, whats next? Think about what else your app might need and hopefully the topics below will help you get started with the next steps of your development!</p><ul><li><a href=connect-a-database.html>Connect a database</a></li><li><a href=javascript-runtime.html>Javascript Runtime</a></li><li><a href=local-evars.html>Local Environment Variables</a></li><li><a href=rails.html>Back to rails overview</a></li></ul></div></div></div></div></div><script src=/js/libs.js></script><script src=/js/main.js></script><script src=https://use.typekit.net/cqd5kth.js></script><script>try{Typekit.load({ async: true });}catch(e){}</script><script>article = new Article("Rails From Scratch", "ruby/rails")
$main = $('.main')
nanobox.addBreadcrumb( $main )
nanobox.addIcons( $main, "ruby,rails" )

</script><script type=text/javascript>$mainwrapper = $(".main-wrapper");
castShadows( $('.main-wrapper') );
topNav = new nanobox.TopNav( $(".top-nav") );
</script><script type=text/javascript>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-78086337-1', 'auto');
ga('send', 'pageview');

  </script></body></html>